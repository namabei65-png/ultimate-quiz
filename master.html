<!DOCTYPE html>
h2 { text-align: center; }
input, button {
padding: 10px;
border-radius: 8px;
border: none;
font-size: 15px;
}
input { width: calc(100% - 120px); }
button {
background: #4f7cff;
color: white;
cursor: pointer;
}
button:hover { background: #3b64e0; }
.card {
background: #2a2a40;
padding: 12px;
border-radius: 10px;
margin-top: 10px;
}
.header {
display: flex;
gap: 10px;
margin-bottom: 20px;
}
</style>
</head>
<body>
<div class="container">
<h2>GM管理画面</h2>
<div class="header">
<input id="q" placeholder="次の問題を入力">
<button onclick="setQuestion()">出題</button>
</div>
<div id="list"></div>
</div>


<script type="module">
import { db } from './firebase.js';
import { ref, onValue, set } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";


const list = document.getElementById("list");


window.setQuestion = () => {
const text = document.getElementById("q").value;
set(ref(db, "quiz"), {
question: text,
time: Date.now()
});
};


onValue(ref(db, "answers"), snap => {
list.innerHTML = "";
snap.forEach(c => {
const d = c.val();
list.innerHTML += `
<div class="card">
<strong>${d.name}</strong><br>
${d.answer}
</div>`;
});
});
</script>
</body>
</html>
